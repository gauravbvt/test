<?xml version="1.0" encoding="UTF-8"?>

<document>
	<title>Source crud_document</title>
	<!--***************Cascading Style Sheets***************-->
	<csslist>
		<css>/xlib/styles/css_ten60_lnf.css</css>
		<css>/xlib/styles/xmlverbatim.css</css>
	</csslist>
	<!--***************Links***************-->
	<links>
	</links>
	<!--***************Table of Contents***************-->
	<toc>
		<section name="title"/>
		<section name="definition"/>
		<section name="purpose"/>
	</toc>
	
	<section name="title" styleuri="/xusr/share/doc/styles_1060/style_title.xsl">
		<content>
			<name>Source crud_document</name>
			<text>Accessor to get an document from the named database</text>
		</content>
	</section>
	
	<section name="definition" styleuri="/xusr/share/doc/styles_1060/style_definition.xsl">
		<content>
			<module>urn:com:mindalliance:channels:crud</module>
			<format>
				<sub name="format"/>
			</format>
			<returns>
				<b>t</b>
			</returns>
			<syntax>
				<type><b>crud_document</b></type>
				<id req="true">the document's id</id>
        <nameReferenced>anything</nameReferenced>
        <database req="true">a database name</database>
				<target req="false">the element as xml</target>
			</syntax>
		</content>
		<includes>
			<include name="format" type="xml">
		    <instr>
		      <type>crud_document</type>
		      <id>data:1230980875AD45A6BC</id>
          <nameReferenced><b>t</b></nameReferenced>
          <database>data:dbName</database>
		      <target>this:response</target>
		    </instr>
			</include>
		</includes>
	</section>
	
	<section name="purpose" styleuri="/xusr/share/doc/styles_1060/style_basic.xsl">
		<content>
	    <p>
				The <code>crud_document</code> accessor retrieves the document with the given unique id from the named database,
        otherwise an exception is thrown.
			</p>
			<p>If successful the response is an xml document such as:</p>
      <sub name="document"/>
      <p>
        If the argument <code>nameReferenced</code> is set to any value then each reference to a document (element which name ends with "Id")
        is augmented by an attribute "name" with the name of the referenced document. For example, the following would be returned (notice that the 
        roleId documents have been added a name attribute):
        <sub name="named"/>
      </p>
		</content>
		<includes>
			<include name="document" type="xml">
        <project>
        	<id>878AD470F6C983655BEE25411</id>
          <name>My project</name>
        </project>
      </include>
      <include name="named" type="xml">
        <person>
					<id>977CE769B23B19C5BCC0131E9DF51C3D</id>
					<name>JD</name>
					<firstName> John </firstName>
					<lastName>Doe</lastName>
					<email>jd@mail.net</email>
					<roles>
						<roleId name="Role 1">21F58D2A810CA0A89B8B39DC6EBBE72D</roleId>
						<roleId name="Role 2">F614956CE87003778ACBB8EA1B330577</roleId>
					</roles>
				</person>
      </include>
		</includes>
	</section>
</document>