<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:search="com.mindalliance.ui.search.*">
    
    <mx:Script>
        <![CDATA[
            public function set dataProvider(dp:Object):void {
                comboCriteria.dataProvider = dp ;
                var children:Array = gridSearch.getChildren();
                for (var i:int = 0 ; i < children.length ; i++) {
                    children[i].dataProvider = dp ;
                }
            }
            
            public function get dataProvider():Object {
                return comboCriteria.dataProvider ;
            }
            
            private function addCriterion():void {
                var sc:SearchCriterion = new SearchCriterion() ;
                sc.percentWidth = 100 ;
                gridSearch.addChild(sc) ;
                sc.dataProvider = comboCriteria.dataProvider ;
            }
            
            public function set selectedIndex(index:int):void {
                comboCriteria.selectedIndex = index ;
            }
            
            public function get selectedIndex():int {
                return comboCriteria.selectedIndex ;
            }
            
        ]]>
    </mx:Script>
    <mx:Grid width="100%" id="gridSearch">
        <mx:GridRow width="100%">
            <mx:GridItem>
                <mx:Button label="+" cornerRadius="20" width="20" height="20" click="addCriterion()"/>
            </mx:GridItem>
            <mx:GridItem>
                <mx:Label text="Search:"/>
            </mx:GridItem>
            <mx:GridItem>
                <mx:ComboBox id="comboCriteria"/>
            </mx:GridItem>
            <mx:GridItem width="100%">
                <mx:TextInput width="100%" id="txtSearch"/>
            </mx:GridItem>
            <mx:GridItem>
            	<search:ClearSearchButton/>
            </mx:GridItem>
        </mx:GridRow>
    </mx:Grid>
</mx:VBox>
