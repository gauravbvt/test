<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml"
    title="Category Editor"
    xmlns:search="com.mindalliance.channels.view.search.*"
    xmlns:common="com.mindalliance.channels.view.common.*"
	implements="com.mindalliance.channels.view.common.IChannelsModelComponent">
    
    <mx:Script>
        <![CDATA[
            import mx.events.ListEvent;
            import mx.events.TreeEvent;
            import mx.controls.dataGridClasses.DataGridColumn;
            import mx.managers.PopUpManager;
            import mx.events.CloseEvent;
 			import com.mindalliance.channels.model.IChannelsModel;
			import com.mindalliance.channels.model.categories.CategoryLibraryEditorModel;
			
			[Bindable]
			private var model : CategoryLibraryEditorModel;
			
			public function get channelsModel() : IChannelsModel {
				return model;	
			}
			
			public function set channelsModel(model : IChannelsModel) : void {
				this.model = (model as CategoryLibraryEditorModel);
			}           
            private function closeEditor():void {
                PopUpManager.removePopUp(this) ;
            }
            
            private function treeCategoriesItemClicked(event:ListEvent):void {
                //
            }
            
        ]]>
    </mx:Script>
    
    <mx:VBox width="100%" height="100%">
        <mx:HBox horizontalAlign="center" width="100%" verticalAlign="middle">
            <mx:Label text="Select Taxonomy:" fontWeight="bold"/>
            <mx:ComboBox id="comboTaxonomy"/>
            <mx:Label text="Select Discipline:" fontWeight="bold"/>
            <mx:ComboBox id="comboDisciplines"/>
        </mx:HBox>
        <mx:HBox width="100%">
        	<search:StandardSearchBox width="100%"/>
        </mx:HBox>
        <mx:HDividedBox width="100%">
	        <mx:VBox width="100%" height="100%">
	            <mx:HBox width="100%" horizontalAlign="center">
	                <mx:Button label="Add Category"/>
	                <mx:Button label="Add Sub-Category"/>
	            </mx:HBox>
	            <mx:Tree width="100%" height="100%" id="treeCategories" itemClick="treeCategoriesItemClicked(event)"/>
	            <common:RemoveButton enabled="{treeCategories.selectedItems.length > 0}" toolTip="Remove selected categories"/>
	        </mx:VBox>
	        <mx:VBox width="100%" height="100%" id="details" enabled="{treeCategories.selectedItems.length == 1}">
                <mx:Form>
                    <mx:FormItem label="Name">
                        <mx:TextInput/>
                    </mx:FormItem>
                    <mx:FormItem label="Description">
                        <mx:TextArea/>
                    </mx:FormItem>
                </mx:Form>
                <mx:VBox width="100%" height="100%">
                    <mx:Label text="Information Template:" fontWeight="bold"/>
                    <mx:DataGrid id="dgInformationTemplate" width="100%" height="100%">
                        <mx:columns>
                            <mx:DataGridColumn headerText="Topic"/>
                            <mx:DataGridColumn headerText="Label"/>
                        </mx:columns>
                    </mx:DataGrid>
                    <mx:HBox>
                    	<common:AddButton/>
                    	<common:RemoveButton enabled="{dgInformationTemplate.selectedItems.length > 0}"/>
                    </mx:HBox>
	                <mx:VBox width="100%" height="100%">
	                       <mx:Label text="Implied Categories:" fontWeight="bold"/>
	                       <mx:List width="100%" height="100%"/>
	                </mx:VBox>
                </mx:VBox>
	        </mx:VBox>
        </mx:HDividedBox>
    </mx:VBox>
    <mx:ControlBar horizontalAlign="right">
    	<mx:Button label="Close" click="closeEditor()"/>
    </mx:ControlBar>
</mx:Panel>
