<?xml version="1.0" encoding="utf-8"?>
<common:ResizableTitleWindow xmlns:mx="http://www.adobe.com/2006/mxml"
    title="Category Library Editor"
    xmlns:search="com.mindalliance.channels.view.search.*"
    xmlns:common="com.mindalliance.channels.view.common.*"
    showCloseButton="true"
    close="if (this.isPopUp) PopUpManager.removePopUp(this)">
    
    <mx:Script>
        <![CDATA[
            import mx.events.ListEvent;
            import mx.events.TreeEvent;
            import mx.controls.dataGridClasses.DataGridColumn;
            import mx.managers.PopUpManager;
            import mx.events.CloseEvent;
			import com.mindalliance.channels.model.categories.CategoryLibraryEditorModel;
			
			[Bindable]
			private var model : CategoryLibraryEditorModel;
    
            private function closeEditor():void {
                PopUpManager.removePopUp(this) ;
            }
            
            private function treeCategoriesItemClicked(event:ListEvent):void {
                //
            }
            
        ]]>
    </mx:Script>
    
    <mx:VBox width="100%" height="100%">
        <mx:HBox horizontalAlign="center" width="100%" verticalAlign="middle">
            <mx:Label text="Select Taxonomy:" fontWeight="bold"/>
            <mx:ComboBox id="comboTaxonomy"/>
            <mx:Label text="Select Discipline:" fontWeight="bold"/>
            <mx:ComboBox id="comboDisciplines"/>
        </mx:HBox>
        <mx:HBox width="100%">
        	<search:StandardSearchBox width="100%"/>
        </mx:HBox>
        <mx:HDividedBox width="100%" horizontalScrollPolicy="off" verticalScrollPolicy="off">
	        <mx:VBox width="100%" height="100%">
	            <mx:HBox width="100%" horizontalAlign="center">
	                <mx:Button label="Add Category"/>
	                <mx:Button label="Add Sub-Category"/>
	            </mx:HBox>
	            <mx:Tree width="100%" height="100%" id="treeCategories" itemClick="treeCategoriesItemClicked(event)"/>
	            <common:RemoveButton enabled="{treeCategories.selectedItems.length > 0}" toolTip="Remove selected categories"/>
	        </mx:VBox>
            <mx:Form enabled="{treeCategories.selectedItems.length == 1}" width="100%" height="100%"
            	horizontalScrollPolicy="off" verticalScrollPolicy="off">
                <mx:FormItem label="Name">
                    <mx:TextInput/>
                </mx:FormItem>
                <mx:FormItem label="Description">
                    <mx:TextArea/>
                </mx:FormItem>
                <mx:FormItem label="Information">
                	<mx:List width="100%" id="listInformation"/>
                    <mx:HBox>
                    	<common:AddButton/>
                    	<common:RemoveButton enabled="{listInformation.selectedItems.length > 0}"/>
                    </mx:HBox>
                </mx:FormItem>
                <mx:FormItem label="Implied">
                	<mx:List width="100%"/>
                </mx:FormItem>
            </mx:Form>
        </mx:HDividedBox>
    </mx:VBox>
    <mx:ControlBar horizontalAlign="right">
    	<mx:Button label="Close" click="closeEditor()"/>
    </mx:ControlBar>
</common:ResizableTitleWindow>