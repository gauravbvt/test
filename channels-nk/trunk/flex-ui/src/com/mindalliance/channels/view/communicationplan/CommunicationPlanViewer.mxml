<?xml version="1.0" encoding="utf-8"?>
<mx:VDividedBox
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:communicationplan="com.mindalliance.channels.view.communicationplan.*"
	width="100%" height="100%"
	creationComplete="init()">
	
	<mx:Script>
		<![CDATA[
			[Bindable]
			private var scenarioName:String ;
			
			[Bindable]
			private var agencyName:String ;
						
			[Bindable]
			private var phone:String ;
			
			[Bindable]
			private var email:String ;
			
			[Bindable]
			private var fax:String ;
			
			[Bindable]
			private var cellPhone:String ;
			
			[Bindable]
			private var date:String ;
			
			[Bindable]
			private var dateIssued:String ;
			
			[Bindable]
			private var approvedBy:String ;
			
			[Bindable]
			private var approvedByEmail:String ;
			
			[Bindable]
			private var approvedByCellPhone:String ;
			
			[Bindable]
			private var approvedByFax:String ;
			
			[Bindable]
			private var approvedByPhone:String ;
			
			private function init():void {
				scenarioName = "Possible Outbreak of Plague" ;
				agencyName = "State Police" ;
				phone = "408 867 5309" ;
				email = "susanr@mc.nj.gov" ;
				fax = "408 867 5309" ;
				cellPhone = "408 867 5309" ;
				
				dateIssued = "July 10, 2006" ;
				approvedBy = "Frank Miller" ;
				approvedByCellPhone = "408 867 5309" ;
				approvedByFax = "444 939 4477" ;
				approvedByEmail = "john.miller@mc.nj.gov" ;
			}
			
		]]>
	</mx:Script>
	
	<mx:ArrayCollection id="PlanData">
		<mx:Object id="o1" 
			categories="cat5, cat2" 
			taskName="Corpse Discovered" 
			success="true" 
			agents="['Chief of Patrol, County Police']" 
			comments="I shot the sheriff (but I did not shoot the deputy)"/>
		<mx:Object id="o2" 
			categories="cat18, cat2" 
			taskName="Notify Presumption of Plague" 
			success="false" 
			agents="['Secretary to State Medical Examiner', 'Chief Medical Examiner']" 
			comments="The body woke up at midnight and started hunting staff."/>
		<mx:Object id="o3" 
			categories="cat1, cat23" 
			taskName="Notify Presumption of Plague" 
			success="false" 
			agents="['CDC Emergency Response Hotline', 'Emergency Response Coordinator']" 
			comments="blah steh u blah"/>
		<mx:Object id="o4" 
			categories="cat31, cat32" 
			taskName="Request for Lung Samples" 
			success="false" 
			agents="[The Cable Guy]" 
			comments="Kill everything in sight."/>
	</mx:ArrayCollection>
	
	<mx:HBox id="header" width="100%">
		<mx:VBox id="commands">
			<mx:Label text="Legend" fontWeight="bold"/>
			<mx:Grid>
				<mx:GridRow>
					<mx:GridItem>
						<mx:Image source="assets/images/incoming.png"/>
					</mx:GridItem>
					<mx:GridItem>
						<mx:Label text="Incoming"/>
					</mx:GridItem>
				</mx:GridRow>
				<mx:GridRow>
					<mx:GridItem>
						<mx:Image source="assets/images/outgoing.png"/>
					</mx:GridItem>
					<mx:GridItem>
						<mx:Label text="Outgoing"/>
					</mx:GridItem>
				</mx:GridRow>
				<mx:GridRow>
					<mx:GridItem>
						<mx:Image source="assets/images/bell.png"/>
					</mx:GridItem>
					<mx:GridItem>
						<mx:Label text="Notify"/>
					</mx:GridItem>
				</mx:GridRow>
				<mx:GridRow>
					<mx:GridItem>
						<mx:Image source="assets/images/alert.png"/>
					</mx:GridItem>
					<mx:GridItem>
						<mx:Label text="Event"/>
					</mx:GridItem>
				</mx:GridRow>
			</mx:Grid>
		</mx:VBox>	
		<mx:Spacer width="100%"/>
		<mx:VBox id="title" horizontalAlign="center" height="80%">
			<mx:Label text="Communication Plan for" fontWeight="bold" fontSize="12"/>
			<mx:Spacer height="100%"/>
			<mx:VBox horizontalAlign="center">
				<mx:Label text="{agencyName}" fontWeight="bold" fontSize="16"/>
			</mx:VBox>
			<mx:Grid>
				<mx:GridRow verticalAlign="middle">
					<mx:GridItem verticalAlign="middle">
						<mx:Image source="assets/images/phone.png" width="32" height="32"/>
					</mx:GridItem>
					<mx:GridItem verticalAlign="middle">
						<mx:Label text="{phone}"/>
					</mx:GridItem>
					<mx:GridItem verticalAlign="middle" colSpan="2">
						<mx:Label text="{email}"/>
					</mx:GridItem>
				</mx:GridRow>
				<mx:GridRow verticalAlign="middle">
					<mx:GridItem verticalAlign="middle">
						<mx:Image source="assets/images/fax.png"/>
					</mx:GridItem>
					<mx:GridItem verticalAlign="middle">
						<mx:Label text="{fax}"/>
					</mx:GridItem>
					<mx:GridItem verticalAlign="middle">
						<mx:Image source="assets/images/cellphone.png"/>
					</mx:GridItem>
					<mx:GridItem verticalAlign="middle">
						<mx:Label text="{cellPhone}"/>
					</mx:GridItem>
				</mx:GridRow>
			</mx:Grid>
			<mx:Spacer height="100%"/>
		</mx:VBox>
		<mx:Spacer width="100%"/>
		<mx:Form>
			<mx:FormItem label="Date Issued">
				<mx:TextInput text="{dateIssued}" fontWeight="bold"/>
			</mx:FormItem>
			<mx:FormItem label="Approved by">
				<mx:TextInput text="{approvedBy}" fontWeight="bold"/>
			</mx:FormItem>
			<mx:FormItem icon="@Embed('../../../../../assets/images/phone.png')">
				<mx:TextInput text="{approvedByPhone}" fontWeight="bold"/>
			</mx:FormItem>
			<mx:FormItem icon="@Embed('../../../../../assets/images/cellphone.png')">
				<mx:TextInput text="{approvedByCellPhone}" fontWeight="bold"/>
			</mx:FormItem>
			<mx:FormItem icon="@Embed('../../../../../assets/images/fax.png')">
				<mx:TextInput text="{approvedByFax}" fontWeight="bold"/>
			</mx:FormItem>
			<mx:FormItem>
				<mx:Label text="{approvedByEmail}" fontWeight="bold"/>
			</mx:FormItem>
		</mx:Form>
	</mx:HBox>
	
	<mx:Box id="body" width="100%" height="100%">
		<mx:HBox width="100%" backgroundColor="0xFFFFDA" horizontalAlign="center">
			<mx:Image source="assets/images/alert.png" scaleContent="true" width="32" height="32"/>
			<mx:Label text="{scenarioName}" fontSize="14" fontWeight="bold"/>
		</mx:HBox>
		<mx:DataGrid editable="true" height="100%" dataProvider="{PlanData}" width="100%"
			 selectionColor="0xFFFFEE">
			<mx:columns>
				<mx:DataGridColumn headerText="Categories" dataField="categories"/>
				<mx:DataGridColumn headerText="Tasks" rendererIsEditor="true" dataField="taskName">
					<mx:itemRenderer>
						<mx:Component>
							<communicationplan:TaskColumn/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn headerText="Agents" rendererIsEditor="true">
					<mx:itemRenderer>
						<mx:Component>
							<communicationplan:AgentsColumn/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn headerText="Date &amp; Time" rendererIsEditor="true">
					<mx:itemRenderer>
						<mx:Component>
							<communicationplan:DateTimeColumn/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
				<mx:DataGridColumn headerText="Comments" rendererIsEditor="true" dataField="comments">
					<mx:itemRenderer>
						<mx:Component>
							<communicationplan:CommentsColumn/>
						</mx:Component>
					</mx:itemRenderer>
				</mx:DataGridColumn>
			</mx:columns>
		</mx:DataGrid>
	</mx:Box>
	<mx:VBox width="100%" height="100%">
		<mx:Label text="Notes:"/>
		<mx:TextArea width="100%" height="100%"/>
	</mx:VBox>
	<mx:Box id="footer" width="100%">
	</mx:Box>
	
</mx:VDividedBox>
