<grammar xmlns="http://relaxng.org/ns/structure/1.0">
<!--
  start =
    element location {
      {all} &
      {identified} &
      {categorized} &
      element within {
        element locationId {text}*
      } &
      element nextTo {
        element locationId {text}*
      } &
      {latlong}
    }
-->
  <include href="http://@host@:@port@/channels/schema/def_all.rng"/>

    <start>
    <element name="location">
      <interleave>
        <ref name="isna_element"/>
        <ref name="identified"/>
        <ref name="categorized"/>
        <element name="within">
          <zeroOrMore>
            <element name="locationId"><text/></element>
          </zeroOrMore>
        </element>
        <element name="nextTo">
          <zeroOrMore>
            <element name="locationId"><text/></element>
          </zeroOrMore>
        </element>
        <ref name="spatialCoordinates"/>
      </interleave>
    </element>
  </start>
</grammar>